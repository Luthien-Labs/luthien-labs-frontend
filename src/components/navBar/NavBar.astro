---
import luthienLabsLogo from "../../assets/luthienLabsLogo.png";
import "./NavBarStyles.scss";
---

<script>
  const mobileMenuButton = document.getElementById("mobileMenuButton");
  const navBar = document.getElementById("navBar");

  if (mobileMenuButton && navBar) {
    mobileMenuButton.addEventListener("click", () => {
      // Add transitioning class before changing state
      navBar.classList.add("transitioning");

      const isVisible = navBar.getAttribute("data-visible") === "true";
      navBar.setAttribute("data-visible", (!isVisible).toString());
      mobileMenuButton.setAttribute("aria-expanded", (!isVisible).toString());
      mobileMenuButton.classList.toggle("active", !isVisible);

      // Remove transitioning class after animation completes
      setTimeout(() => {
        navBar.classList.remove("transitioning");
      }, 300);
    });
  }
</script>
<div id="navBrandingUnder">
  <img
    id="luthienLabsLogo"
    src={luthienLabsLogo.src}
    alt="Luthen Labs Logo"
    fetchpriority="high"
  />
  <h2 id="luthenLabsName">Luthien Labs</h2>
</div>
<div id="container">
  <button
    id="mobileMenuButton"
    aria-expanded="false"
    aria-controls="navBarLinkContainer"></button>
  <div id="navBar" data-visible="false">
    <div id="navBranding">
      <img
        id="luthienLabsLogo"
        src={luthienLabsLogo.src}
        alt="Luthen Labs Logo"
        fetchpriority="high"
      />
      <h2 id="luthenLabsName">Luthien Labs</h2>
    </div>

    <nav id="navBarLinkContainer">
      <ul id="navBarLinkList">
        <li id="">
          <a href="/" id="navBarLink">Home</a>
        </li>
        <li>
          <a href="/our-people" id="navBarLink">Our People</a>
        </li>
        <li>
          <a href="/dev-blog" id="navBarLink">Dev Blog</a>
        </li>
        <li>
          <a href="/contact-us" id="navBarLink">Contact Us</a>
        </li>
      </ul>
    </nav>
  </div>
</div>
